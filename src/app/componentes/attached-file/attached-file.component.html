<div [fxFlex]="settings?.percentage || defaultValues.percentage" fxLayoutGap="40px" fxLayout="column" class="file-upload-container">
    <!-- Drag and Drop Area -->
    <div class="drop-area" (drop)="onDrop($event)" (dragover)="onDragOver($event)" *ngIf="!readOnly">
      {{ label }}
      <label [for]="'file-input-'+id" class="file-input-label">Selecciona archivos</label>
      <input [id]="'file-input-'+id" type="file" (change)="onFileSelected($event)" multiple />
    </div>
  
    <!-- Lista de archivos seleccionados -->
    <div class="file-list" *ngIf="files.length > 0 && !readOnly">
        <ul>
            <li *ngFor="let file of files">
                <div *ngIf="isImage(file?.file?.name); else otherFile">
                    <img [src]="file?.url" [alt]="file?.file?.name" class="file-preview" />
                </div>
                <ng-template #otherFile>
                    <div *ngIf="isPdf(file?.url); else defaultFile">
                        <embed [src]="file?.url" type="application/pdf" width="100%" height="500px" />
                    </div>
                    <a [href]="file?.url" target="_blank">{{ file?.file?.name }}</a>
                </ng-template>
                <button mat-icon-button color="danger" type="button" (click)="removeSelectedFile(i)" >
                    <mat-icon>delete_sweep</mat-icon>
                </button>
            </li>
        </ul>
    </div>
  
    <!-- Mostrar archivos desde URLs -->
    <div class="url-files" *ngIf="urlFiles.length > 0 && readOnly">
      <ul>
        <li *ngFor="let urlFile of urlFiles">
            <div *ngIf="isImage(urlFile?.url); else otherFile">
                <img [src]="urlFile?.url" [alt]="urlFile?.name" class="file-preview" />
            </div>
            <ng-template #otherFile>
                <div *ngIf="isPdf(urlFile?.url); else defaultFile">
                    <embed [src]="urlFile?.url" type="application/pdf" width="100%" height="500px" />
                </div>
                <ng-template #defaultFile>
                    <a [href]="urlFile?.url" target="_blank">{{ urlFile.name }}</a>
                </ng-template>
            </ng-template>
        </li>
      </ul>
    </div>
</div>